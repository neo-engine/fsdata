// winstrates' 1-battle streak challenge
#include "scriptlib.m4.h"

GET_MAPOBJECT( 13, 10, 3 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )

MESSAGE( 1080, 0 )
YES_NO_MESSAGE( 1093, 0, 2 )
    MESSAGE( 1081, 0 )
    JUMP_TO_END

SET_FLAG( 390, 1 )
MESSAGE( 1082, 0 )
BATTLE_TRAINER( 172, SINGLE )
CHECK_REGISTER( 0, 1, 3 )
    SET_FLAG( 390, 0 )
    FAINT_PLAYER
    JUMP_TO_END

GET_MAPOBJECT( 13, 10, 3 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )
MOVE_MAPOBJECT_R( 1, UP, 0 )

MESSAGE( 1083, 0 )
MOVE_MAPOBJECT_R( 1, UP, 1 )
DESTROY_MAPOBJECT_R( 1 )

SPAWN_MAPOBJECT( 61, 13, 9 )
COPY_REGISTER( 0, 1 )
MOVE_MAPOBJECT_R( 1, DOWN, 1 )

GET_MAPOBJECT( 2, 14, 3 )
MOVE_MAPOBJECT_R( 1, DOWN, 0 )

MESSAGE( 1084, 0 )
BATTLE_TRAINER( 173, SINGLE )
CHECK_REGISTER( 0, 1, 3 )
    SET_FLAG( 390, 0 )
    FAINT_PLAYER
    JUMP_TO_END

GET_MAPOBJECT( 13, 10, 3 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )
MOVE_MAPOBJECT_R( 1, UP, 0 )

MESSAGE( 1085, 0 )
MOVE_MAPOBJECT_R( 1, UP, 1 )
DESTROY_MAPOBJECT_R( 1 )

SPAWN_MAPOBJECT( 34, 13, 9 )
COPY_REGISTER( 0, 1 )
MOVE_MAPOBJECT_R( 1, DOWN, 1 )

GET_MAPOBJECT( 2, 14, 3 )
MOVE_MAPOBJECT_R( 1, DOWN, 0 )

MESSAGE( 1086, 0 )
BATTLE_TRAINER( 174, SINGLE )
CHECK_REGISTER( 0, 1, 3 )
    SET_FLAG( 390, 0 )
    FAINT_PLAYER
    JUMP_TO_END


GET_MAPOBJECT( 13, 10, 3 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )
MOVE_MAPOBJECT_R( 1, UP, 0 )

MESSAGE( 1087, 0 )
MOVE_MAPOBJECT_R( 1, UP, 1 )
DESTROY_MAPOBJECT_R( 1 )

SPAWN_MAPOBJECT( 63, 13, 9 )
COPY_REGISTER( 0, 1 )
MOVE_MAPOBJECT_R( 1, DOWN, 1 )

GET_MAPOBJECT( 2, 14, 3 )
MOVE_MAPOBJECT_R( 1, DOWN, 0 )

MESSAGE( 1088, 0 )
BATTLE_TRAINER( 175, SINGLE )
CHECK_REGISTER( 0, 1, 3 )
    SET_FLAG( 390, 0 )
    FAINT_PLAYER
    JUMP_TO_END

MESSAGE( 1089, 0 )

GET_MAPOBJECT( 13, 10, 3 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )
MOVE_MAPOBJECT_R( 1, UP, 1 )
DESTROY_MAPOBJECT_R( 1 )

REDRAW_OBJECTS
