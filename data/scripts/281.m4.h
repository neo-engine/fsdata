// Acerola handing out go-goggles
#include "scriptlib.m4.h"

CHECK_FLAG( 393, 0, 1 )
    JUMP_TO_END

CHECK_ROUTE( 2, 2 )
    CHECK_ROUTE( 4, 1 )
        JUMP_TO_END

SPAWN_MAPOBJECT( 40, 15, 24 )
COPY_REGISTER( 0, 1 )
LOCK_R( 1 )

PLAY_MUSIC( BGM_GHOST_GIRL )

MOVE_MAPOBJECT_R( 1, DOWN, 1 )
MOVE_MAPOBJECT_R( 1, RIGHT, 2 )
MOVE_MAPOBJECT_R( 1, DOWN, 1 )
MOVE_MAPOBJECT_R( 1, RIGHT, 1 )
MOVE_MAPOBJECT_R( 1, DOWN, 3 )

MESSAGE( 1100, 0 )
GIVE_ITEM( I_GO_GOGGLES, 1 )
MESSAGE( 1101, 0 )

CHECK_FLAG( 390, 1, 1 )
    MESSAGE( 1102, 0 )

MESSAGE( 1103, 0 )

HIDE_PKMN
MOVE_PLAYER( LEFT, 1 )
MOVE_PLAYER( RIGHT, 0 )

MOVE_MAPOBJECT_R( 1, DOWN, 1 )
MOVE_MAPOBJECT_R( 1, RIGHT, 2 )
MOVE_MAPOBJECT_R( 1, DOWN, 6 )
DESTROY_MAPOBJECT_R( 1 )

SET_FLAG( 393, 1 )
RESTORE_MUSIC
END_OF_PROGRAM
