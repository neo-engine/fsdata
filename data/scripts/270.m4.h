// capt stern, oceanic museum
#include "scriptlib.m4.h"

GET_MAPOBJECT( 19, 9, 3 )
COPY_REGISTER( 0, 4 )
MOVE_MAPOBJECT_R( 4, LEFT, 0 )

// stern intro
MESSAGE( 1021, 0 )

HIDE_PKMN

// Spam Team A
PLAY_MUSIC( BGM_ENCOUNTER_TEAM_A )
SPAWN_MAPOBJECT( 24, 12, 4 )
COPY_REGISTER( 0, 1 )
MOVE_MAPOBJECT_FAST_R( 1, DOWN, 5 )
MOVE_MAPOBJECT_FAST_R( 1, RIGHT, 5 )

MOVE_PLAYER( LEFT, 0 )

SPAWN_MAPOBJECT( 24, 12, 4 )
COPY_REGISTER( 0, 2 )
MOVE_MAPOBJECT_FAST_R( 2, DOWN, 4 )
MOVE_MAPOBJECT_FAST_R( 2, RIGHT, 5 )

MESSAGE( 1022, 0 )
MESSAGE( 1023, 0 )
MESSAGE( 1024, 0 )

BATTLE_TRAINER( 105, SINGLE )

CHECK_REGISTER( 0, 1, 2 )
    FAINT_PLAYER
    JUMP_TO_END

GET_MAPOBJECT( 17, 9, 3 )
COPY_REGISTER( 0, 1 )
MOVE_MAPOBJECT_R( 1, RIGHT, 0 )
GET_MAPOBJECT( 17, 8, 3 )
COPY_REGISTER( 0, 2 )
MOVE_MAPOBJECT_R( 2, RIGHT, 0 )

PLAY_MUSIC( BGM_ENCOUNTER_TEAM_A )

MESSAGE( 1025, 0 )

MOVE_MAPOBJECT_FAST_R( 2, DOWN, 1 )
MOVE_MAPOBJECT_FAST_R( 2, RIGHT, 0 )
MOVE_MAPOBJECT_FAST_R( 1, DOWN, 1 )
MOVE_MAPOBJECT_FAST_R( 1, UP, 0 )

MESSAGE( 1026, 0 )

BATTLE_TRAINER( 106, SINGLE )

CHECK_REGISTER( 0, 1, 2 )
    FAINT_PLAYER
    JUMP_TO_END

PLAY_MUSIC( BGM_ENCOUNTER_TEAM_A )

MESSAGE( 1027, 0 )

GET_MAPOBJECT( 17, 10, 3 )
COPY_REGISTER( 0, 1 )
GET_MAPOBJECT( 17, 9, 3 )
COPY_REGISTER( 0, 2 )

// Spawn Archie
SPAWN_MAPOBJECT( 28, 12, 4 )
COPY_REGISTER( 0, 3 )
MOVE_MAPOBJECT_R( 3, DOWN, 5 )
MOVE_MAPOBJECT_R( 3, RIGHT, 4 )

MESSAGE( 1028, 0 )

MOVE_MAPOBJECT_FAST_R( 3, RIGHT, 1 )
MOVE_MAPOBJECT_FAST_R( 2, UP, 1 )
MOVE_MAPOBJECT_FAST_R( 2, DOWN, 0 )

MESSAGE( 1029, 0 )

MOVE_MAPOBJECT_R( 3, LEFT, 5 )
MOVE_MAPOBJECT_R( 3, UP, 4 )
DESTROY_MAPOBJECT_R( 3 )

MOVE_MAPOBJECT_R( 2, DOWN, 1 )
MOVE_MAPOBJECT_R( 2, RIGHT, 0 )
MOVE_MAPOBJECT_FAST_R( 2, LEFT, 5 )
MOVE_MAPOBJECT_FAST_R( 2, UP, 4 )
DESTROY_MAPOBJECT_R( 2 )

MOVE_MAPOBJECT_R( 1, UP, 1 )
MOVE_MAPOBJECT_R( 1, RIGHT, 0 )
MOVE_MAPOBJECT_FAST_R( 1, LEFT, 5 )
MOVE_MAPOBJECT_FAST_R( 1, UP, 4 )
DESTROY_MAPOBJECT_R( 1 )

RESTORE_MUSIC

MOVE_PLAYER( RIGHT, 0 )

MESSAGE( 1030, 0 )
TAKE_ITEM( I_DEVON_GOODS, 1 )
MESSAGE( 1031, 0 )

SET_FLAG( 383, 0 )
SET_FLAG( 384, 1 )

REDRAW_MAP

